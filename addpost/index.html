<!DOCTYPE html>
<html>
    <head>
        
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="shortcut icon" type="image/png" href="/ping/images/logo.png">
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" type="text/css" href="/ping/css/main.css">
        <title>Ping</title>       
    </head>
    <body>
        
        

        <ul id="slide-out" class="sidenav sidenav-fixed">  <!-- sidebar starts -->
            <li><div class="user-view">
                <div class="background">
                    <!-- <img src="https://lorempixel.com/800/400/nature/4"> -->
                </div>
                <img class="circle" src="/ping/images/profilepic.png" id="userprofile">
                <h5  id="username"></h5>
                <small  id="useremail"></small>
            </div></li>
            <li><a href="/ping/home"><i class="material-icons left">account_balance</i>Home</a></li>
            <li><a href="/ping/friends"><i class="material-icons left">people</i>Friends</a></li>
            <li><a href="/ping/people"><i class="material-icons left">group_add</i>people</a></li>
            <li><a href="/ping/chat"><i class="material-icons left">person_pin</i>Chats</a></li>
            <li class="active"><a href="/ping/addpost"><i class="material-icons left">add_circle_outline</i>Add Post</a></li>
            <li><a href="/ping/profile"><i class="material-icons left">collections</i>My Posts</a></li>
            <li><a href="/ping/notification"><i class="material-icons left">add_alert</i>Notifications<span id="notificationcount"></span></a></li>
        </ul> <!-- sidebar ends -->
        
        
        <main>
            
        <div class=" navbar-fixed"><!-- navbar starts -->
            <nav class="blue">
                <div class="nav-wrapper container">
                    <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                    <a href="#" class="brand-logo">Ping</a>
                    <ul id="nav-mobile" class="right">
                        <button onclick="signOut()" class="btn waves-effect waves-light">Logout</button>
                    </ul>
                </div>
            </nav>
        </div><!-- navbar ends -->

        <section> <!-- content starts here -->

<div class="row">

    <div class="col s12 m8 offset-m2">
        <div class="card">        
        <div class="card-content center-align">
            <button onclick="uploadimg()" class="btn">Select File</button> 
             <input type="file" accept="image/*" onchange="getimg(this)" id="imginput" name="" style="display: none">         
            <hr>
            <img  alt="" width="400px" height="400px" id="postimg">
            <hr>
            <div class="input-field">
                <i class="material-icons prefix">mode_edit</i>
                <input id="captioninput" type="text" data-length="100">
                <label for="captioninput">Add caption here</label>
            </div>
            <button class="btn" onclick="upload()">Upload</button>
        </div>
      </div>
    </div>
   

</div>
            
        </section> <!-- content ends here -->
        </main>
            <!-- jquery -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <!-- Compiled and minified JavaScript -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            <!-- The core Firebase JS SDK is always required and must be listed first -->
            <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>            
            <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-firestore.js"></script>            
            <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>            
            <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-messaging.js"></script>            
            <!-- The firebase config custom file -->
            <script src="/ping/js/firebaseconfig.js"></script>
            <!-- <script src="/js/firebase-messaging.js"></script>   -->
            <script src="/ping/js/app.js"></script>
            <script src="./addpost.js"></script>

<script>
        firebase.auth().onAuthStateChanged((user)=>{
        if(user===null)
        {
            window.open("/ping","_self");
        }
        });
        </script>



        </body>
    </html>
